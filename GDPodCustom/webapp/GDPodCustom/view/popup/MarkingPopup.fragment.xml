<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:l="sap.ui.layout"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:html="http://www.w3.org/1999/xhtml"
    controllerName="kpmg.custom.pod.GDPodCustom.GDPodCustom.controller.popup.MarkingPopup"
    width="100%"
    height="100%"
>
    <Dialog id="markingDialog" title="Marking" class="markingPopupDialog" showHeader="true" contentHeight="400px"  contentWidth="800px" verticalScrolling="false" horizontalScrolling="false"> 
        <content>
            <!-- Container principale -->
            <VBox width="100%" height="100%" renderType="Bare" alignContent="Center" justifyContent="Center">
                <!-- Header -->
                <HBox width="90%" height="20%" renderType="Bare">
                    <HBox renderType="Bare" alignItems="Center" width="33%">
                        <Label text="WBS Element" class="markingHeaderLabel markingLabel sapUiSmallMarginEnd"/>
                        <Label text="{/wbe}" class="markingLabel"/>
                    </HBox>
                    <HBox renderType="Bare" alignItems="Center" width="33%">
                        <Label text="SFC" class="markingHeaderLabel markingLabel sapUiSmallMarginEnd"/>
                        <Label text="{/sfc}" class="markingLabel"/>
                    </HBox>
                    <HBox renderType="Bare" alignItems="Center" width="33%">
                        <Label text="Order" class="markingHeaderLabel markingLabel sapUiSmallMarginEnd"/>
                        <Label text="{/order}" class="markingLabel"/>
                    </HBox>
                </HBox>

                <!-- Operazione e Numero Conferma -->
                <VBox width="90%" height="30%" renderType="Bare">
                    <HBox width="100%" class="inputRow" renderType="Bare">
                        <Label text="Operation" class="markingLabel"/>
                        <Label text="{/operation}"/>
                    </HBox>
                    <HBox width="100%" class="inputRow" renderType="Bare">
                        <Label text="Confirmation Number" class="markingLabel"/>
                        <Label text="{/confirmNumber}"/>
                    </HBox>
                    <HBox width="100%" class="inputRow" renderType="Bare">
                        <Label text="Personnel Number" class="markingLabel"/>
                        <Label text="{/personnelNumber}"/>
                    </HBox>
                </VBox>

                <HBox width="90%" height="40%" renderType="Bare">
                    <!-- Input principale -->
                    <VBox width="50%" class="markingInputLabel" renderType="Bare">
                        <HBox class="markingInputRow" renderType="Bare" alignItems="Center">
                            <Label text="Marking Date" class="markingLabel"/>
                            <DateTimePicker 
                                id="markingDatePicker" 
                                valueFormat="dd/MM/yyyy"
                                displayFormat="dd/MM/yyyy"
                                width="15rem" 
                                value="{/dateValue}"/>
                        </HBox>
                        <HBox class="markingInputRow" renderType="Bare" alignItems="Center">
                            <Label text="Start Time" class="markingLabel"/>
                            <TimePicker 
                                id="startTimePicker" 
                                valueFormat="HH:mm:ss"
                                displayFormat="HH:mm:ss"
                                width="15rem"  
                                value="{/dateValue}"/>
                        </HBox>
                        <HBox class="markingInputRow" renderType="Bare" alignItems="Center">
                            <Label text="Finish Time" class="markingLabel"/>
                            <TimePicker 
                                id="finishTimePicker" 
                                valueFormat="HH:mm:ss"
                                displayFormat="HH:mm:ss"
                                width="15rem" 
                                value="{/dateValue}"/>
                        </HBox>
                        <HBox class="markingInputRow" renderType="Bare" alignItems="Center">
                            <Label text="Variance" class="markingLabel"/>
                            <Label id="selectedVarianceText" class="markingReasonDesc" />
                            <Button id="varianceButton" press="onVarianceButtonPressed" icon="sap-icon://arrow-down" />
                        </HBox>
                    </VBox>

                    <!-- Ore previste/consuntivate/rimanenti -->
                    <VBox width="50%" class="markingHoursContainer" renderType="Bare">
                        <HBox class="markingHoursRow">
                            <Label text="Planned Labor" class="markingLabel"/>
                            <Label text="{/plannedLabor}"/>
                        </HBox>
                        <HBox class="markingHoursRow">
                            <Label text="Marked Labor" class="markingLabel"/>
                            <Label text="{/markedLabor}"/>
                        </HBox>
                        <HBox class="markingHoursRow">
                            <Label text="Remaining Labor" class="markingLabel"/>
                            <Label text="{/remainingLabor}"/>
                        </HBox>
                        <HBox class="markingHoursRow">
                            <Label text="Variance Labor" class="markingLabel"/>
                            <Label text="{/varianceLabor}"/>
                        </HBox>
                    </VBox>
                </HBox>
                
                <HBox width="90%" height="10%"  renderType="Bare" alignItems="Center" justifyContent="End">
                    <Button text="Cancel" type="Emphasized" press="onClosePopup" />
                    <Button text="Confirm" type="Emphasized" press="onConfirm" />
                </HBox> 
            </VBox>
        </content>
    </Dialog>
</core:FragmentDefinition>
